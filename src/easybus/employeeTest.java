package easybus;

import java.awt.Image;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import javax.imageio.ImageIO;
import javax.swing.DefaultCellEditor;
import javax.swing.DefaultComboBoxModel;
import javax.swing.ImageIcon;
import javax.swing.JCheckBox;
import javax.swing.JComboBox;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.filechooser.FileNameExtensionFilter;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableColumn;
import javax.swing.table.TableColumnModel;
import javax.swing.table.TableModel;

/**
 *
 * @author Ali Haidar
 */
public class employeeTest extends javax.swing.JFrame {

    /**
     * Creates new form employeeTest
     */
    ArrayList<Timing> timings;
    DataBaseHandler db;
    private final int max;
    private String state="end";
    protected Employee employee;
    private Student addedStudent;
    int payed;
    int notPayed;
    
    public employeeTest(Employee e) 
    {
        db=new DataBaseHandler();
        max=db.getMax();
        this.employee=e;
        initComponents();
        init();
        timeRadioGroup.add(radioBegin);
        timeRadioGroup.add(radioEnd);
        radioEnd.setSelected(true);
        initTable(Integer.parseInt((String)minimumCombo.getSelectedItem()),state);
        setExtendedState(JFrame.MAXIMIZED_BOTH);
        
    }
    public void init()
    {
        Date date=new Date();
        SimpleDateFormat s = new SimpleDateFormat("EEEE");
        String dayOfWeek=s.format(date);
        days_combo.setSelectedItem((String)dayOfWeek);
        endTimeCombo.setSelectedItem("all");
        begintimeCombo.setSelectedItem("all");
        
        if(employee.getRole().equals("P"))
        {
           jTabbedPane2.remove(0);
           jTabbedPane2.remove(1);
           jTabbedPane2.remove(2);
           jTabbedPane2.remove(2);
           jTabbedPane2.remove(2);
           jMenuFile.setVisible(false);
        }
        else if(employee.getRole().equals("B"))
        {
           jTabbedPane2.remove(3);
            jTabbedPane2.remove(3);
            jTabbedPane2.remove(4);
            jTabbedPane2.remove(4);
            jMenuFile.setVisible(false);
        }
        else
        {
            jTabbedPane2.remove(0);
            jTabbedPane2.remove(1);
            jTabbedPane2.remove(1);
            jTabbedPane2.remove(2);
            jTabbedPane2.remove(3);
        }
        nameTextField.setText(employee.getName());
        IdTextField.setText(employee.getId());
        phoneTextField.setText(employee.getPhoneNbr());
        nameTextField.setEnabled(false);
        IdTextField.setEnabled(false);
        phoneTextField.setEnabled(false);
        Date d=new Date();
        welcomeLabel.setText("Welcome "+employee.getName());
        dateLabel.setText("Date:"+d.toString().substring(0,10));
        usernameLabel.setText("Username:"+employee.getAccount().getUsername());
        roleRadioGroup.add(paymentsRadioButton);
        roleRadioGroup.add(busManagementRadioButton);
        paymentsRadioButton.setSelected(true);
        initTableSchedules();
        addScheduleTable.setEnabled(false);
        initAddScheduleTable();
        initTablePyaments();
        ImageIcon image=new ImageIcon(employee.getAccount().getPath());
        Image scaleImage=image.getImage().getScaledInstance(150, 130, Image.SCALE_DEFAULT);
        profileLabel.setIcon(new ImageIcon(scaleImage));
        notesTextArea.setText(employee.getAccount().getNotes());
        save_schedule_btn.setEnabled(false);
        initTableEmployees();
        initJTableRecentPayments();
    }
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        timeRadioGroup = new javax.swing.ButtonGroup();
        roleRadioGroup = new javax.swing.ButtonGroup();
        jMenuItem2 = new javax.swing.JMenuItem();
        jMenuBar2 = new javax.swing.JMenuBar();
        jMenu2 = new javax.swing.JMenu();
        jMenu3 = new javax.swing.JMenu();
        jPanel1 = new javax.swing.JPanel();
        welcomeLabel = new javax.swing.JLabel();
        dateLabel = new javax.swing.JLabel();
        profilePicPanel = new javax.swing.JPanel();
        profileLabel = new javax.swing.JLabel();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel3 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        notesTextArea = new javax.swing.JTextArea();
        clear_notes_btn = new javax.swing.JButton();
        save_notes_btn = new javax.swing.JButton();
        jTabbedPane2 = new javax.swing.JTabbedPane();
        jPanel6 = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        minimumCombo = new javax.swing.JComboBox<>();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        lossLabel = new javax.swing.JLabel();
        radioBegin = new javax.swing.JRadioButton();
        radioEnd = new javax.swing.JRadioButton();
        jLabelNumberOfRoutes = new javax.swing.JLabel();
        jPanel4 = new javax.swing.JPanel();
        jSeparator1 = new javax.swing.JSeparator();
        jLabel3 = new javax.swing.JLabel();
        nameTextField = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        IdTextField = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        phoneTextField = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        edit_info_btn = new javax.swing.JButton();
        usernameLabel = new javax.swing.JLabel();
        change_usernmae_btn = new javax.swing.JButton();
        change_password_btn = new javax.swing.JButton();
        save_info_btn = new javax.swing.JButton();
        errorUsername = new javax.swing.JLabel();
        resultPasswordChange = new javax.swing.JLabel();
        jPanel5 = new javax.swing.JPanel();
        jLabel9 = new javax.swing.JLabel();
        begintimeCombo = new javax.swing.JComboBox<>();
        jLabel10 = new javax.swing.JLabel();
        days_combo = new javax.swing.JComboBox<>();
        jScrollPane3 = new javax.swing.JScrollPane();
        StudentsSchedulesTable = new javax.swing.JTable();
        endTimeCombo = new javax.swing.JComboBox<>();
        jLabelNumberOfStudents = new javax.swing.JLabel();
        jPanel8 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        fieldIdInPayments = new javax.swing.JTextField();
        pay_btn = new javax.swing.JButton();
        jScrollPane5 = new javax.swing.JScrollPane();
        paymentsTable = new javax.swing.JTable();
        jPanel7 = new javax.swing.JPanel();
        jPanel9 = new javax.swing.JPanel();
        busManagementRadioButton = new javax.swing.JRadioButton();
        paymentsRadioButton = new javax.swing.JRadioButton();
        employeePhoneTextField = new javax.swing.JTextField();
        employeeNameTextFielld = new javax.swing.JTextField();
        employeeIdTextField = new javax.swing.JTextField();
        studentIdLabel1 = new javax.swing.JLabel();
        studentNameLabel1 = new javax.swing.JLabel();
        studentPhoneLabel1 = new javax.swing.JLabel();
        saveEmployee_btn = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        studentIdLabel = new javax.swing.JLabel();
        studentIdTextField = new javax.swing.JTextField();
        studentNameLabel = new javax.swing.JLabel();
        studentNameTextField = new javax.swing.JTextField();
        studentPhoneLabel = new javax.swing.JLabel();
        studentPhoneTextField = new javax.swing.JTextField();
        studentAddressLabel = new javax.swing.JLabel();
        studentAdrressTextFiled = new javax.swing.JTextField();
        saveStudent_btn = new javax.swing.JButton();
        jScrollPane4 = new javax.swing.JScrollPane();
        addScheduleTable = new javax.swing.JTable();
        save_schedule_btn = new javax.swing.JButton();
        jPanel10 = new javax.swing.JPanel();
        jScrollPane6 = new javax.swing.JScrollPane();
        tableEmployees = new javax.swing.JTable();
        jPanel11 = new javax.swing.JPanel();
        jComboBoxMonths = new javax.swing.JComboBox<>();
        jScrollPane7 = new javax.swing.JScrollPane();
        jTableRecentPayments = new javax.swing.JTable();
        jLabel8 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        jTextFieldSearch = new javax.swing.JTextField();
        jButtonSearch = new javax.swing.JButton();
        jLabelPayed = new javax.swing.JLabel();
        jLabelNotPayed = new javax.swing.JLabel();
        change_profile_btn = new javax.swing.JButton();
        logOut_btn = new javax.swing.JButton();
        jMenuBar1 = new javax.swing.JMenuBar();
        jMenuFile = new javax.swing.JMenu();
        menuItemNewProject = new javax.swing.JMenuItem();
        menuItemPrint = new javax.swing.JMenuItem();
        menuItemQuit = new javax.swing.JMenuItem();

        jMenuItem2.setText("jMenuItem2");

        jMenu2.setText("File");
        jMenuBar2.add(jMenu2);

        jMenu3.setText("Edit");
        jMenuBar2.add(jMenu3);

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setPreferredSize(new java.awt.Dimension(1366, 768));

        jPanel1.setBackground(new java.awt.Color(0, 153, 153));
        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        welcomeLabel.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        welcomeLabel.setText("Welcom ..");

        dateLabel.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        dateLabel.setText("Date");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(welcomeLabel)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(dateLabel)
                .addGap(23, 23, 23))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(23, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(welcomeLabel)
                    .addComponent(dateLabel))
                .addContainerGap())
        );

        profilePicPanel.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        profileLabel.setText("profile picture");

        javax.swing.GroupLayout profilePicPanelLayout = new javax.swing.GroupLayout(profilePicPanel);
        profilePicPanel.setLayout(profilePicPanelLayout);
        profilePicPanelLayout.setHorizontalGroup(
            profilePicPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(profilePicPanelLayout.createSequentialGroup()
                .addComponent(profileLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 6, Short.MAX_VALUE))
        );
        profilePicPanelLayout.setVerticalGroup(
            profilePicPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(profilePicPanelLayout.createSequentialGroup()
                .addComponent(profileLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 132, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        jTabbedPane1.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        notesTextArea.setColumns(20);
        notesTextArea.setRows(5);
        jScrollPane1.setViewportView(notesTextArea);

        clear_notes_btn.setText("Clear");
        clear_notes_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clear_notes_btnActionPerformed(evt);
            }
        });

        save_notes_btn.setText("save");
        save_notes_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                save_notes_btnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(clear_notes_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(save_notes_btn, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 153, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 353, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(clear_notes_btn)
                    .addComponent(save_notes_btn)))
        );

        jTabbedPane1.addTab("Notes", jPanel3);

        jTabbedPane2.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N

        jLabel2.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jLabel2.setText("Minimum:");

        minimumCombo.setModel(new DefaultComboBoxModel<String>(listMinimums()));
        minimumCombo.setToolTipText("");
        minimumCombo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                minimumComboActionPerformed(evt);
            }
        });

        jTable1.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Time", "Bus", "Students#"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.Object.class, java.lang.Integer.class
            };
            boolean[] canEdit = new boolean [] {
                false, true, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jTable1.setGridColor(new java.awt.Color(0, 0, 0));
        jTable1.setRowHeight(40);
        jTable1.setSelectionForeground(new java.awt.Color(0, 0, 0));
        jScrollPane2.setViewportView(jTable1);

        lossLabel.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        lossLabel.setText("Loss:");

        radioBegin.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        radioBegin.setText("Begin");
        radioBegin.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                radioBeginActionPerformed(evt);
            }
        });

        radioEnd.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        radioEnd.setText("End");
        radioEnd.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                radioEndActionPerformed(evt);
            }
        });

        jLabelNumberOfRoutes.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabelNumberOfRoutes.setText("Number of routes: ");

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lossLabel)
                    .addComponent(radioEnd)
                    .addComponent(radioBegin)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addComponent(jLabel2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(minimumCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(2, 2, 2)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 621, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jLabelNumberOfRoutes)
                .addGap(169, 169, 169))
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addGap(51, 51, 51)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(minimumCombo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel2))
                .addGap(18, 18, 18)
                .addComponent(lossLabel)
                .addGap(18, 18, 18)
                .addComponent(radioBegin)
                .addGap(7, 7, 7)
                .addComponent(radioEnd)
                .addContainerGap(266, Short.MAX_VALUE))
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabelNumberOfRoutes)
                .addGap(6, 6, 6))
        );

        jTabbedPane2.addTab("Management", jPanel6);

        jLabel3.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jLabel3.setText("Name:");

        nameTextField.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N

        jLabel4.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jLabel4.setText("Id:");

        IdTextField.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N

        jLabel5.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        jLabel5.setText("Personal Information");

        jLabel6.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jLabel6.setText("Phone:");

        jLabel7.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        jLabel7.setText("Account Information");

        edit_info_btn.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        edit_info_btn.setText("Edit Info");
        edit_info_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                edit_info_btnActionPerformed(evt);
            }
        });

        usernameLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        usernameLabel.setText("Username:Ali97");

        change_usernmae_btn.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        change_usernmae_btn.setText("Change Username");
        change_usernmae_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                change_usernmae_btnActionPerformed(evt);
            }
        });

        change_password_btn.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        change_password_btn.setText("Change Password");
        change_password_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                change_password_btnActionPerformed(evt);
            }
        });

        save_info_btn.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        save_info_btn.setText("Save Info");
        save_info_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                save_info_btnActionPerformed(evt);
            }
        });

        errorUsername.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jSeparator1)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(24, 24, 24)
                        .addComponent(jLabel5))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(28, 28, 28)
                        .addComponent(jLabel7)))
                .addContainerGap())
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(71, 71, 71)
                        .addComponent(jLabel6)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(save_info_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(edit_info_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 102, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGap(6, 6, 6)
                                .addComponent(phoneTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addGroup(jPanel4Layout.createSequentialGroup()
                            .addContainerGap()
                            .addComponent(jLabel4)
                            .addGap(18, 18, 18)
                            .addComponent(IdTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 222, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGap(71, 71, 71)
                                .addComponent(jLabel3)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(nameTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGap(68, 68, 68)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(usernameLabel)
                                    .addComponent(change_usernmae_btn, javax.swing.GroupLayout.DEFAULT_SIZE, 175, Short.MAX_VALUE)
                                    .addComponent(change_password_btn, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel4Layout.createSequentialGroup()
                                        .addGap(58, 58, 58)
                                        .addComponent(errorUsername))
                                    .addGroup(jPanel4Layout.createSequentialGroup()
                                        .addGap(18, 18, 18)
                                        .addComponent(resultPasswordChange, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)))))))
                .addGap(0, 416, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel5)
                .addGap(22, 22, 22)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(IdTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3)
                    .addComponent(nameTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(8, 8, 8)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel6)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addComponent(phoneTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(edit_info_btn)
                    .addComponent(save_info_btn))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel7)
                .addGap(31, 31, 31)
                .addComponent(usernameLabel)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(change_usernmae_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(errorUsername))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(resultPasswordChange, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(change_password_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(23, 23, 23))
        );

        jTabbedPane2.addTab("profile", jPanel4);

        jLabel9.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jLabel9.setText("Search by Time:");

        begintimeCombo.setModel(new DefaultComboBoxModel<String>(new String[]{"08:00","09:00","10:00","all"})
        );
        begintimeCombo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                begintimeComboActionPerformed(evt);
            }
        });

        jLabel10.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jLabel10.setText("Day:");

        days_combo.setModel(new DefaultComboBoxModel<String>(new String[]{"Monday","Tuesday","Wednesday","Thursday","Friday"})
        );
        days_combo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                days_comboActionPerformed(evt);
            }
        });

        StudentsSchedulesTable.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        StudentsSchedulesTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "StudentId", "Student Name", "Begin Time", "End Time"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        StudentsSchedulesTable.setRowHeight(40);
        jScrollPane3.setViewportView(StudentsSchedulesTable);

        endTimeCombo.setModel(new DefaultComboBoxModel<String>(new String[]{"12:00","13:00","14:00","15:00","all"})
        );
        endTimeCombo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                endTimeComboActionPerformed(evt);
            }
        });

        jLabelNumberOfStudents.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabelNumberOfStudents.setText("Number Of Students:");

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGap(42, 42, 42)
                .addComponent(jLabel9)
                .addGap(18, 18, 18)
                .addComponent(begintimeCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(endTimeCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 89, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 213, Short.MAX_VALUE)
                .addComponent(jLabel10)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(days_combo, javax.swing.GroupLayout.PREFERRED_SIZE, 117, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(19, 19, 19))
            .addComponent(jScrollPane3)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jLabelNumberOfStudents)
                .addGap(125, 125, 125))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel9)
                        .addComponent(begintimeCombo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(endTimeCombo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(days_combo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel10)))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 369, Short.MAX_VALUE)
                .addGap(18, 18, 18)
                .addComponent(jLabelNumberOfStudents)
                .addContainerGap())
        );

        jTabbedPane2.addTab("Students schedules", jPanel5);

        jLabel1.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jLabel1.setText("ID:");

        pay_btn.setText("Pay");
        pay_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                pay_btnActionPerformed(evt);
            }
        });

        paymentsTable.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        paymentsTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Student Id", "Name", "Pay"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.String.class, java.lang.Boolean.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        paymentsTable.setRowHeight(40);
        jScrollPane5.setViewportView(paymentsTable);

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGap(50, 50, 50)
                .addComponent(jLabel1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(fieldIdInPayments, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(pay_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane5, javax.swing.GroupLayout.DEFAULT_SIZE, 590, Short.MAX_VALUE))
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGap(41, 41, 41)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(fieldIdInPayments, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel1))
                .addGap(28, 28, 28)
                .addComponent(pay_btn)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 439, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        jTabbedPane2.addTab("Check Payments", jPanel8);

        jPanel7.setBackground(new java.awt.Color(0, 153, 153));

        busManagementRadioButton.setText("Bus Managment");

        paymentsRadioButton.setText("Payments");
        paymentsRadioButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                paymentsRadioButtonActionPerformed(evt);
            }
        });

        employeePhoneTextField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                employeePhoneTextFieldActionPerformed(evt);
            }
        });

        employeeNameTextFielld.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                employeeNameTextFielldActionPerformed(evt);
            }
        });

        employeeIdTextField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                employeeIdTextFieldActionPerformed(evt);
            }
        });

        studentIdLabel1.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        studentIdLabel1.setText("*Id:");

        studentNameLabel1.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        studentNameLabel1.setText("*Name:");

        studentPhoneLabel1.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        studentPhoneLabel1.setText("*Phone:");

        saveEmployee_btn.setText("Save Employee");
        saveEmployee_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveEmployee_btnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                .addContainerGap(108, Short.MAX_VALUE)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addGap(13, 13, 13)
                        .addComponent(studentIdLabel1)
                        .addGap(37, 37, 37))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(studentPhoneLabel1)
                            .addComponent(studentNameLabel1))
                        .addGap(29, 29, 29)))
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addComponent(paymentsRadioButton)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(busManagementRadioButton))
                    .addComponent(saveEmployee_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 152, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(employeeIdTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(employeePhoneTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addComponent(employeeNameTextFielld, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(81, 81, 81))
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                .addContainerGap(79, Short.MAX_VALUE)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(employeeIdTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(studentIdLabel1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(employeeNameTextFielld, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(studentNameLabel1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(employeePhoneTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(studentPhoneLabel1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(paymentsRadioButton)
                    .addComponent(busManagementRadioButton))
                .addGap(18, 18, 18)
                .addComponent(saveEmployee_btn)
                .addGap(37, 37, 37))
        );

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap(156, Short.MAX_VALUE)
                .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap(155, Short.MAX_VALUE))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                .addContainerGap(113, Short.MAX_VALUE)
                .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(60, Short.MAX_VALUE))
        );

        jTabbedPane2.addTab("Add Employee", jPanel7);

        studentIdLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        studentIdLabel.setText("*Id:");

        studentIdTextField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                studentIdTextFieldActionPerformed(evt);
            }
        });

        studentNameLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        studentNameLabel.setText("*Name:");

        studentNameTextField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                studentNameTextFieldActionPerformed(evt);
            }
        });

        studentPhoneLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        studentPhoneLabel.setText("*Phone:");

        studentPhoneTextField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                studentPhoneTextFieldActionPerformed(evt);
            }
        });

        studentAddressLabel.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        studentAddressLabel.setText("Address: ");

        studentAdrressTextFiled.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                studentAdrressTextFiledActionPerformed(evt);
            }
        });

        saveStudent_btn.setText("Add Student");
        saveStudent_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveStudent_btnActionPerformed(evt);
            }
        });

        addScheduleTable.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        addScheduleTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Day", "Begin", "End"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.Object.class, java.lang.Object.class
            };
            boolean[] canEdit = new boolean [] {
                false, true, true
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        addScheduleTable.setRowHeight(40);
        jScrollPane4.setViewportView(addScheduleTable);

        save_schedule_btn.setText("Save Schedule");
        save_schedule_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                save_schedule_btnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(35, 35, 35)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(32, 32, 32)
                        .addComponent(studentIdLabel)
                        .addGap(37, 37, 37))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(studentPhoneLabel)
                            .addComponent(studentNameLabel)
                            .addComponent(studentAddressLabel))
                        .addGap(29, 29, 29)))
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(studentIdTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(studentPhoneTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(jPanel2Layout.createSequentialGroup()
                            .addGap(1, 1, 1)
                            .addComponent(studentNameTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(saveStudent_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(studentAdrressTextFiled, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addGap(47, 47, 47)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 432, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(save_schedule_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 172, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(134, 134, 134))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(34, 34, 34)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(studentIdTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(studentIdLabel))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(studentNameTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(studentNameLabel))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(studentPhoneTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(studentPhoneLabel))
                        .addGap(19, 19, 19)
                        .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(studentAdrressTextFiled, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(studentAddressLabel))
                        .addGap(21, 21, 21)
                        .addComponent(saveStudent_btn))
                    .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 232, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(save_schedule_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(165, Short.MAX_VALUE))
        );

        jTabbedPane2.addTab("Add Student", jPanel2);

        tableEmployees.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        tableEmployees.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Id", "Name", "Username", "Phone", "Role"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tableEmployees.setRowHeight(40);
        jScrollPane6.setViewportView(tableEmployees);

        javax.swing.GroupLayout jPanel10Layout = new javax.swing.GroupLayout(jPanel10);
        jPanel10.setLayout(jPanel10Layout);
        jPanel10Layout.setHorizontalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane6, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 768, Short.MAX_VALUE)
        );
        jPanel10Layout.setVerticalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel10Layout.createSequentialGroup()
                .addComponent(jScrollPane6, javax.swing.GroupLayout.DEFAULT_SIZE, 457, Short.MAX_VALUE)
                .addContainerGap())
        );

        jTabbedPane2.addTab("Employees", jPanel10);

        jComboBoxMonths.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12" }));
        jComboBoxMonths.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxMonthsActionPerformed(evt);
            }
        });

        jTableRecentPayments.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jTableRecentPayments.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Student Id", "Name", "Pay"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.Object.class, java.lang.Object.class, java.lang.Boolean.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jTableRecentPayments.setRowHeight(40);
        jScrollPane7.setViewportView(jTableRecentPayments);

        jLabel8.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel8.setText("Search by month:");

        jLabel11.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel11.setText("Id:");

        jTextFieldSearch.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldSearchActionPerformed(evt);
            }
        });

        jButtonSearch.setText("Search");
        jButtonSearch.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSearchActionPerformed(evt);
            }
        });

        jLabelPayed.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabelPayed.setText("Payed:");

        jLabelNotPayed.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabelNotPayed.setText("Not Payed: ");

        javax.swing.GroupLayout jPanel11Layout = new javax.swing.GroupLayout(jPanel11);
        jPanel11.setLayout(jPanel11Layout);
        jPanel11Layout.setHorizontalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addGap(21, 21, 21)
                .addComponent(jLabel8)
                .addGap(18, 18, 18)
                .addComponent(jComboBoxMonths, javax.swing.GroupLayout.PREFERRED_SIZE, 77, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(75, 75, 75)
                .addComponent(jLabel11)
                .addGap(18, 18, 18)
                .addComponent(jTextFieldSearch, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jButtonSearch)
                .addContainerGap(272, Short.MAX_VALUE))
            .addComponent(jScrollPane7)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel11Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabelPayed, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabelNotPayed))
                .addGap(180, 180, 180))
        );
        jPanel11Layout.setVerticalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jComboBoxMonths, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel8)
                    .addComponent(jLabel11)
                    .addComponent(jTextFieldSearch, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButtonSearch))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jScrollPane7, javax.swing.GroupLayout.PREFERRED_SIZE, 362, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabelPayed)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabelNotPayed)
                .addGap(31, 31, 31))
        );

        jTabbedPane2.addTab("Recent Payments", jPanel11);

        change_profile_btn.setText("Change");
        change_profile_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                change_profile_btnActionPerformed(evt);
            }
        });

        logOut_btn.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        logOut_btn.setLabel("Log out");
        logOut_btn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                logOut_btnActionPerformed(evt);
            }
        });

        jMenuFile.setText("File");

        menuItemNewProject.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_N, java.awt.event.InputEvent.CTRL_MASK));
        menuItemNewProject.setText("New Project");
        menuItemNewProject.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuItemNewProjectActionPerformed(evt);
            }
        });
        jMenuFile.add(menuItemNewProject);

        menuItemPrint.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_P, java.awt.event.InputEvent.SHIFT_MASK));
        menuItemPrint.setText("Print");
        menuItemPrint.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuItemPrintActionPerformed(evt);
            }
        });
        jMenuFile.add(menuItemPrint);

        menuItemQuit.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_Q, java.awt.event.InputEvent.CTRL_MASK));
        menuItemQuit.setText("Quit");
        menuItemQuit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                menuItemQuitActionPerformed(evt);
            }
        });
        jMenuFile.add(menuItemQuit);

        jMenuBar1.add(jMenuFile);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(profilePicPanel, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(change_profile_btn, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jTabbedPane2)
                        .addContainerGap())
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(logOut_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(19, 19, 19))))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(profilePicPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(change_profile_btn)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTabbedPane1))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(12, 12, 12)
                        .addComponent(jTabbedPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 528, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(logOut_btn, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))))
        );

        jTabbedPane2.getAccessibleContext().setAccessibleName("Management");
        logOut_btn.getAccessibleContext().setAccessibleName("");

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void radioEndActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_radioEndActionPerformed
        // TODO add your handling code here:
        state="end";
        initTable(Integer.parseInt((String)minimumCombo.getSelectedItem()), state);

    }//GEN-LAST:event_radioEndActionPerformed

    private void radioBeginActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_radioBeginActionPerformed
        state="begin";
        initTable(Integer.parseInt((String)minimumCombo.getSelectedItem()),state);
    }//GEN-LAST:event_radioBeginActionPerformed

    private void minimumComboActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_minimumComboActionPerformed
        initTable(Integer.parseInt((String)minimumCombo.getSelectedItem()),state);
    }//GEN-LAST:event_minimumComboActionPerformed

    private void edit_info_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_edit_info_btnActionPerformed

        nameTextField.setEnabled(true);
        phoneTextField.setEnabled(true);
    }//GEN-LAST:event_edit_info_btnActionPerformed

    private void save_info_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_save_info_btnActionPerformed
        // TODO add your handling code here:
        boolean checked=checkPhoneNumber(phoneTextField.getText());
        if(!checkPhoneNumber(phoneTextField.getText()))
        {
            JOptionPane.showMessageDialog(null, "Wrong phone number format");
            return;
        }
        nameTextField.setEnabled(false);
        phoneTextField.setEnabled(false);
        employee.setId(IdTextField.getText());
        employee.setName(nameTextField.getText());
        employee.setPhoneNbr(phoneTextField.getText());
        String str=db.updateEmployeeInfo(employee);
        if(checked)
        {
            if(!str.equals("true"))
            JOptionPane.showMessageDialog(null,str);
        }
        else
            JOptionPane.showMessageDialog(null, "Wrong phone number format");
    }//GEN-LAST:event_save_info_btnActionPerformed

    private void change_profile_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_change_profile_btnActionPerformed
        // TODO add your handling code here:
        JFileChooser chooser=new JFileChooser();
        FileNameExtensionFilter filter=new FileNameExtensionFilter("Image files", ImageIO.getReaderFileSuffixes());
        chooser.setFileFilter(filter);
        int x=chooser.showOpenDialog(this);
        if(x==JFileChooser.APPROVE_OPTION)
        {
            profileLabel.setText("");
            ImageIcon image=new ImageIcon(chooser.getSelectedFile().getPath());
            Image scaleImage=image.getImage().getScaledInstance(150, 130, Image.SCALE_DEFAULT);
            profileLabel.setIcon(new ImageIcon(scaleImage));
            String path=chooser.getSelectedFile().getPath();
            db.addPath(employee.getAccount().getUsername(), path);
        }
    }//GEN-LAST:event_change_profile_btnActionPerformed

    private void change_usernmae_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_change_usernmae_btnActionPerformed
       String newUsername=JOptionPane.showInputDialog(null,"Enter the new Username", "chanege username",JOptionPane.INFORMATION_MESSAGE);
 
        if(db.updateUsername(employee.getAccount().getUsername(),newUsername)==false)
            {
                errorUsername.setText("Username not avialable!");
            }
            else
            {
                 errorUsername.setText("");
                 usernameLabel.setText("Username:"+newUsername);
            }
    }//GEN-LAST:event_change_usernmae_btnActionPerformed

    private void change_password_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_change_password_btnActionPerformed
        // TODO add your handling code here:
        //String newUsername=JOptionPane.showInputDialog(null,"Enter the new Username", "chanege username",JOptionPane.INFORMATION_MESSAGE);
        panelChangePassword panel=new panelChangePassword();
        int res=JOptionPane.showConfirmDialog(null,panel);
        if(res==JOptionPane.OK_OPTION)
        {
            String oldTrue=employee.getAccount().getPassword();
            String oldWritten=panel.getOldPassowrd();
            String newPassword=panel.getNewPassowrd();
            String confirmPassword=panel.getConfirmPassowrd();
            if(oldTrue.equals(oldWritten)&&newPassword.equals(confirmPassword))
            {
                employee.getAccount().setpassword(newPassword);
                db.changePassword(employee.getAccount().getUsername(), newPassword);
                resultPasswordChange.setText("");
            }
            else
            {
                resultPasswordChange.setText("Error! Password Not Changed");
            }
        }
    }//GEN-LAST:event_change_password_btnActionPerformed

    private void days_comboActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_days_comboActionPerformed
        initTableSchedules();
    }//GEN-LAST:event_days_comboActionPerformed

    private void studentIdTextFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_studentIdTextFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_studentIdTextFieldActionPerformed

    private void studentNameTextFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_studentNameTextFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_studentNameTextFieldActionPerformed

    private void studentPhoneTextFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_studentPhoneTextFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_studentPhoneTextFieldActionPerformed

    private void studentAdrressTextFiledActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_studentAdrressTextFiledActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_studentAdrressTextFiledActionPerformed

    private void saveStudent_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_saveStudent_btnActionPerformed
        // TODO add your handling code here:
        String message="";
        Student s;
        if(checkPhoneNumber(studentPhoneTextField.getText()))
            s=new Student(studentIdTextField.getText(),studentNameTextField.getText(),studentPhoneTextField.getText(),studentAdrressTextFiled.getText());
        else
        {
            JOptionPane.showMessageDialog(null, "Wrong phone Number format");
            return;
        }
        String str=db.addStudent(s);
        if(str.equals("true"))
        {
            addedStudent=s;
            message="Added Successfully!";
            addScheduleTable.setEnabled(true);
            save_schedule_btn.setEnabled(true);
            clearTable(StudentsSchedulesTable);
            initTableSchedules();
            DefaultTableModel df=(DefaultTableModel)paymentsTable.getModel();
            df.addRow(new Object[]{s.getId(),s.getName(),false});
        }
        else
            message=str;
        JOptionPane.showMessageDialog(null,message);
    }//GEN-LAST:event_saveStudent_btnActionPerformed
    public boolean checkPhoneNumber(String phone)
    {
        if(phone.length()<8)
            return false;
        else
        {
            for(int i=0;i<phone.length();i++)
            {
                if(!Character.isDigit(phone.charAt(i)))
                    return false;
            }
        }
        return true;
    }
    private void employeeIdTextFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_employeeIdTextFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_employeeIdTextFieldActionPerformed

    private void employeeNameTextFielldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_employeeNameTextFielldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_employeeNameTextFielldActionPerformed

    private void employeePhoneTextFieldActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_employeePhoneTextFieldActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_employeePhoneTextFieldActionPerformed

    private void paymentsRadioButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_paymentsRadioButtonActionPerformed
        
    }//GEN-LAST:event_paymentsRadioButtonActionPerformed

    private void saveEmployee_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_saveEmployee_btnActionPerformed
        String b;
        if(paymentsRadioButton.isSelected())
        {
            b=db.addEmployee(new Employee(employeeIdTextField.getText(),employeeNameTextFielld.getText(),employeePhoneTextField.getText(),"P"));
            employeeIdTextField.setText("");
            employeeNameTextFielld.setText("");
            employeePhoneTextField.setText("");
        }
        else
        {
            b=db.addEmployee(new Employee(employeeIdTextField.getText(),employeeNameTextFielld.getText(),employeePhoneTextField.getText(),"B"));
            employeeIdTextField.setText("");
            employeeNameTextFielld.setText("");
            employeePhoneTextField.setText("");
        }
        if(b.equals("true"))
            JOptionPane.showMessageDialog(null, "Added Successfully!");
        else
            JOptionPane.showMessageDialog(null, b);
        initTableEmployees();
        
        
    }//GEN-LAST:event_saveEmployee_btnActionPerformed

    private void save_schedule_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_save_schedule_btnActionPerformed
        // TODO add your handling code here:
        DefaultTableModel df=(DefaultTableModel)addScheduleTable.getModel();
        for(int i=0;i<df.getRowCount();i++)
        {
            db.insertTimings(addedStudent,String.valueOf(df.getValueAt(i, 0)),String.valueOf(df.getValueAt(i, 1)),String.valueOf(df.getValueAt(i, 2)));
        }
        JOptionPane.showMessageDialog(null,"Saved Succssefully!");
        clearTable(addScheduleTable);
        initAddScheduleTable();
        addScheduleTable.setEnabled(false);
        studentIdTextField.setText("");
        studentNameTextField.setText("");
        studentPhoneTextField.setText("");
        studentAdrressTextFiled.setText("");
        int maxNumberOfBuses=getMaxNumberOfBuses();
        if(maxNumberOfBuses>db.getNumberOfBuses())
        {
            db.insertBus(maxNumberOfBuses);
            initTable(Integer.parseInt((String)minimumCombo.getSelectedItem()), state);
        }
        save_schedule_btn.setEnabled(false);
        initTableSchedules();
        initTable(Integer.parseInt((String)minimumCombo.getSelectedItem()), state);
    }//GEN-LAST:event_save_schedule_btnActionPerformed

    private void pay_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_pay_btnActionPerformed
        // TODO add your handling code here:
        String id=fieldIdInPayments.getText();
        if(!id.equals(""))
        {
            db.addPayment(new Date().getMonth()+1,id);
            DefaultTableModel df=(DefaultTableModel)paymentsTable.getModel();
            for(int i=0;i<df.getRowCount();i++)
            {
                if(df.getValueAt(i, 0).equals(id))
                    df.setValueAt(true, i, 2);
            }
        }
        fieldIdInPayments.setText("");
        initJTableRecentPayments();
    }//GEN-LAST:event_pay_btnActionPerformed

    private void logOut_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_logOut_btnActionPerformed
        // TODO add your handling code here:
        int res=JOptionPane.showConfirmDialog(null, "Are you Sure you want to Logout!");
        if(res==JOptionPane.OK_OPTION)
        {
            dispose();
            new loginTest().setVisible(true);
        }
    }//GEN-LAST:event_logOut_btnActionPerformed

    private void save_notes_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_save_notes_btnActionPerformed
       String note=notesTextArea.getText();
       db.addNotes(employee.getAccount().getUsername(), note);
    }//GEN-LAST:event_save_notes_btnActionPerformed

    private void clear_notes_btnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clear_notes_btnActionPerformed
        notesTextArea.setText("");
        db.clearNotes(employee.getAccount().getUsername());
    }//GEN-LAST:event_clear_notes_btnActionPerformed

    private void begintimeComboActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_begintimeComboActionPerformed
        initTableSchedules();
    }//GEN-LAST:event_begintimeComboActionPerformed

    private void endTimeComboActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_endTimeComboActionPerformed
        initTableSchedules();
    }//GEN-LAST:event_endTimeComboActionPerformed

    private void menuItemNewProjectActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuItemNewProjectActionPerformed
        int answer=JOptionPane.showConfirmDialog(null, "Are you sure?","New Project",JOptionPane.ERROR_MESSAGE);
        if(answer==JOptionPane.OK_OPTION)
        {
            db.clearProject();
            dispose();
            new loginTest().setVisible(true);
        }
    }//GEN-LAST:event_menuItemNewProjectActionPerformed

    private void menuItemQuitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuItemQuitActionPerformed
        dispose();
    }//GEN-LAST:event_menuItemQuitActionPerformed

    private void menuItemPrintActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_menuItemPrintActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_menuItemPrintActionPerformed

    private void jComboBoxMonthsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxMonthsActionPerformed
        initJTableRecentPayments();
    }//GEN-LAST:event_jComboBoxMonthsActionPerformed

    private void jTextFieldSearchActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldSearchActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldSearchActionPerformed

    private void jButtonSearchActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSearchActionPerformed
        initJTableRecentPayments();
        String id=jTextFieldSearch.getText();
        DefaultTableModel model=(DefaultTableModel)jTableRecentPayments.getModel();
        for(int i=0;i<model.getRowCount();i++)
        {
            if(!(((String)model.getValueAt(i, 0)).equals(id)))
            {
                model.removeRow(i);
                i--;
            }
        }
        jLabelNotPayed.setVisible(false);
        jLabelPayed.setVisible(false);
    }//GEN-LAST:event_jButtonSearchActionPerformed
    

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextField IdTextField;
    private javax.swing.JTable StudentsSchedulesTable;
    private javax.swing.JTable addScheduleTable;
    private javax.swing.JComboBox<String> begintimeCombo;
    private javax.swing.JRadioButton busManagementRadioButton;
    private javax.swing.JButton change_password_btn;
    private javax.swing.JButton change_profile_btn;
    private javax.swing.JButton change_usernmae_btn;
    private javax.swing.JButton clear_notes_btn;
    private javax.swing.JLabel dateLabel;
    private javax.swing.JComboBox<String> days_combo;
    private javax.swing.JButton edit_info_btn;
    private javax.swing.JTextField employeeIdTextField;
    private javax.swing.JTextField employeeNameTextFielld;
    private javax.swing.JTextField employeePhoneTextField;
    private javax.swing.JComboBox<String> endTimeCombo;
    private javax.swing.JLabel errorUsername;
    private javax.swing.JTextField fieldIdInPayments;
    private javax.swing.JButton jButtonSearch;
    private javax.swing.JComboBox<String> jComboBoxMonths;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabelNotPayed;
    private javax.swing.JLabel jLabelNumberOfRoutes;
    private javax.swing.JLabel jLabelNumberOfStudents;
    private javax.swing.JLabel jLabelPayed;
    private javax.swing.JMenu jMenu2;
    private javax.swing.JMenu jMenu3;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JMenuBar jMenuBar2;
    private javax.swing.JMenu jMenuFile;
    private javax.swing.JMenuItem jMenuItem2;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JScrollPane jScrollPane7;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTabbedPane jTabbedPane2;
    private javax.swing.JTable jTable1;
    private javax.swing.JTable jTableRecentPayments;
    private javax.swing.JTextField jTextFieldSearch;
    private javax.swing.JButton logOut_btn;
    private javax.swing.JLabel lossLabel;
    private javax.swing.JMenuItem menuItemNewProject;
    private javax.swing.JMenuItem menuItemPrint;
    private javax.swing.JMenuItem menuItemQuit;
    private javax.swing.JComboBox<String> minimumCombo;
    private javax.swing.JTextField nameTextField;
    private javax.swing.JTextArea notesTextArea;
    private javax.swing.JButton pay_btn;
    private javax.swing.JRadioButton paymentsRadioButton;
    private javax.swing.JTable paymentsTable;
    private javax.swing.JTextField phoneTextField;
    private javax.swing.JLabel profileLabel;
    private javax.swing.JPanel profilePicPanel;
    private javax.swing.JRadioButton radioBegin;
    private javax.swing.JRadioButton radioEnd;
    private javax.swing.JLabel resultPasswordChange;
    private javax.swing.ButtonGroup roleRadioGroup;
    private javax.swing.JButton saveEmployee_btn;
    private javax.swing.JButton saveStudent_btn;
    private javax.swing.JButton save_info_btn;
    private javax.swing.JButton save_notes_btn;
    private javax.swing.JButton save_schedule_btn;
    private javax.swing.JLabel studentAddressLabel;
    private javax.swing.JTextField studentAdrressTextFiled;
    private javax.swing.JLabel studentIdLabel;
    private javax.swing.JLabel studentIdLabel1;
    private javax.swing.JTextField studentIdTextField;
    private javax.swing.JLabel studentNameLabel;
    private javax.swing.JLabel studentNameLabel1;
    private javax.swing.JTextField studentNameTextField;
    private javax.swing.JLabel studentPhoneLabel;
    private javax.swing.JLabel studentPhoneLabel1;
    private javax.swing.JTextField studentPhoneTextField;
    private javax.swing.JTable tableEmployees;
    private javax.swing.ButtonGroup timeRadioGroup;
    private javax.swing.JLabel usernameLabel;
    private javax.swing.JLabel welcomeLabel;
    // End of variables declaration//GEN-END:variables
    public void clearTable(JTable table)
    {
        int count=table.getRowCount();
        DefaultTableModel df=(DefaultTableModel)table.getModel();
        
        while(count>0)
        {
            df.removeRow(0);
            count--;
        }
    }
    int index;
    public void initTable(int minimum,String state)
    {
        clearTable(jTable1);
        DefaultTableModel df=(DefaultTableModel)jTable1.getModel();
        ArrayList<Group> data;
        Date date=new Date();
        SimpleDateFormat s = new SimpleDateFormat("EEEE");
        String dayOfWeek=s.format(date);
        if(state.equals("end"))
            data=myAlgoEnd(minimum,this.max,dayOfWeek).getArray();
        else
            data=myAlgoBegin(minimum, this.max,dayOfWeek).getArray();
        TableColumn BusColumn=jTable1.getColumnModel().getColumn(1);
        
        JComboBox combo=new JComboBox(db.getBuses().toArray());
        combo.setMaximumRowCount(4);
        BusColumn.setCellEditor(new DefaultCellEditor(combo));
        
        if(state.equals("end"))
        {
            for(int i=0;i<data.size();i++)
            {
                String[] time=data.get(i).getTime().split(":");
                String res=time[0]+":"+time[1];
                df.addRow(new Object[]{res,combo.getSelectedItem(),data.get(i).getNbOfStudents()});
            }
        }
        else
        {
            for(int i=data.size()-1;i>=0;i--)
            {
                String[] time=data.get(i).getTime().split(":");
                String res=time[0]+":"+time[1];
                df.addRow(new Object[]{res,combo.getSelectedItem(),data.get(i).getNbOfStudents()});
            }
        }
    }
  
    public ReturnedValues myAlgoEnd(int minimum,int maximum,String day)
    {
        ReturnedValues returned;
        ArrayList<Group> allTimings=db.getTimingsInThisDay("end",day);
        ArrayList<Group> resultTimings=new ArrayList<>();
        int loss=0;
        for(int i=0;i<allTimings.size();i++)
        {
            Group group=allTimings.get(i);
            if(allTimings.get(i).getNbOfStudents()<minimum)
            {
                if(i==allTimings.size()-1)
                    resultTimings.add(new Group(group.getNbOfStudents(),group.getTime()));
                else
                {
                    allTimings.get(i+1).setNumberOfStudent(group.getNbOfStudents()+allTimings.get(i+1).getNbOfStudents());
                    loss+=allTimings.get(i).getNbOfStudents();
                }
            }
            else if(allTimings.get(i).getNbOfStudents()>=minimum && allTimings.get(i).getNbOfStudents()<=maximum)
            {
                resultTimings.add(group);
            }
            else
            {
                if(i==allTimings.size()-1)
                {
                    int counter=1;
                    do{
                        counter++;
                    }while((double)group.getNbOfStudents()/counter>maximum);
                    int remainder=group.getNbOfStudents()%counter;
                    for(int z=0;z<counter;z++)
                    {
                        if(remainder>0)
                            resultTimings.add(new Group(group.getNbOfStudents()/counter+1, group.getTime()));
                        else
                            resultTimings.add(new Group(group.getNbOfStudents()/counter, group.getTime()));
                        remainder--;
                    }
                }
                else{
                int counter=2;
                while(true)
                {
                    double ratio=group.getNbOfStudents()/counter;
                    if(ratio>minimum && ratio<maximum)
                    {
                        int remainder=group.getNbOfStudents()%counter;
                        for(int z=0;z<counter;z++)
                        {
                            if(remainder>0)
                            {
                                resultTimings.add(new Group(group.getNbOfStudents()/counter+1, group.getTime()));
                                remainder--;
                            }
                            else
                                resultTimings.add(new Group(group.getNbOfStudents()/counter, group.getTime()));
                        }
                        break;
                    }
                    else if(ratio<minimum)
                    {
                        int x=group.getNbOfStudents()-maximum;
                        resultTimings.add(new Group(maximum, group.getTime()));
                        allTimings.get(i+1).setNumberOfStudent(allTimings.get(i+1).getNbOfStudents()+x);
                        loss+=x;
                        break;
                    }
                    counter++;
                }
                }
            }
        }
        lossLabel.setText("Suspended students: "+loss);
        jLabelNumberOfRoutes.setText("Number of routes: "+resultTimings.size());
        returned=new ReturnedValues(loss, resultTimings);
        return returned;
    }
     public ReturnedValues myAlgoBegin(int minimum,int maximum,String day)
    {
        ReturnedValues returned;
        ArrayList<Group> allTimings=db.getTimingsInThisDay("begin",day);
        ArrayList<Group> resultTimings=new ArrayList<>();
        int loss=0;
        for(int i=allTimings.size()-1;i>=0;i--)
        {
            Group group=allTimings.get(i);
            if(allTimings.get(i).getNbOfStudents()<minimum)
            {
                if(i==0)
                    resultTimings.add(new Group(group.getNbOfStudents(),group.getTime()));
                else
                {
                    allTimings.get(i-1).setNumberOfStudent(group.getNbOfStudents()+allTimings.get(i-1).getNbOfStudents());
                    loss+=allTimings.get(i).getNbOfStudents();
                }
            }
            else if(allTimings.get(i).getNbOfStudents()>=minimum && allTimings.get(i).getNbOfStudents()<=maximum)
            {
                resultTimings.add(group);
            }
            else
            {
                if(i==0)
                {
                    int counter=1;
                    do{
                        counter++;
                    }while((double)group.getNbOfStudents()/counter>maximum);
                    int remainder=group.getNbOfStudents()%counter;
                    for(int z=0;z<counter;z++)
                    {
                        if(remainder>0)
                            resultTimings.add(new Group(group.getNbOfStudents()/counter+1, group.getTime()));
                        else
                            resultTimings.add(new Group(group.getNbOfStudents()/counter, group.getTime()));
                        remainder--;
                    }
                }
                else{
                int counter=2;
                while(true)
                {
                    double ratio=group.getNbOfStudents()/counter;
                    if(ratio>minimum && ratio<maximum)
                    {
                        int remainder=group.getNbOfStudents()%counter;
                        for(int z=0;z<counter;z++)
                        {
                            if(remainder>0)
                            {
                                resultTimings.add(new Group(group.getNbOfStudents()/counter+1, group.getTime()));
                                remainder--;
                            }
                            else
                                resultTimings.add(new Group(group.getNbOfStudents()/counter, group.getTime()));
                        }
                        break;
                    }
                    else if(ratio<minimum)
                    {
                        int x=group.getNbOfStudents()-maximum;
                        resultTimings.add(new Group(maximum, group.getTime()));
                        allTimings.get(i-1).setNumberOfStudent(allTimings.get(i-1).getNbOfStudents()+x);
                        loss+=x;
                        break;
                    }
                    counter++;
                }
                }
            }
        }
        lossLabel.setText("Suspended students: "+loss);
        jLabelNumberOfRoutes.setText("Number of routes: "+resultTimings.size());
        returned=new ReturnedValues(loss, resultTimings);
        return returned;
    }
    public void initTableSchedules()
    {
        clearTable(StudentsSchedulesTable);
        timings=db.getTimingsPerDay((String)days_combo.getSelectedItem());
        DefaultTableModel df=(DefaultTableModel)StudentsSchedulesTable.getModel();
        for(Timing t:timings)
        {
            String[] begin=t.getBeginTime().split(":");
            String[] end=t.getEndTime().split(":");
            String beginres=begin[0]+":"+begin[1];
            String endres=end[0]+":"+end[1];
            if(beginres.equals((String)begintimeCombo.getSelectedItem()) && endres.equals((String)endTimeCombo.getSelectedItem()) )
                df.addRow(new Object[]{t.getStdId(),t.getstdName(),beginres,endres});
            
            else if(((String)begintimeCombo.getSelectedItem()).equals("all") && endres.equals((String)endTimeCombo.getSelectedItem()))
                df.addRow(new Object[]{t.getStdId(),t.getstdName(),beginres,endres});
            
            else if(beginres.equals((String)begintimeCombo.getSelectedItem()) && ((String)endTimeCombo.getSelectedItem()).equals("all"))
                df.addRow(new Object[]{t.getStdId(),t.getstdName(),beginres,endres});
            
            else if(((String)begintimeCombo.getSelectedItem()).equals("all") && ((String)endTimeCombo.getSelectedItem()).equals("all"))
                df.addRow(new Object[]{t.getStdId(),t.getstdName(),beginres,endres});
        }
        jLabelNumberOfStudents.setText("Number of Students: "+df.getRowCount());
        
    }
    public String[] listMinimums()
    {
        String[] o=new String[max];
        for(int i=0;i<max;i++)
        {
            o[i]=String.valueOf(i+1);
        }
        return o;
    }
    public void initAddScheduleTable()
    {
        TableColumn beginColumn=addScheduleTable.getColumnModel().getColumn(1);
        TableColumn endColumn=addScheduleTable.getColumnModel().getColumn(2);
        JComboBox comboBegin=new JComboBox(new String[]{"08:00","09:00","10:00"});
        JComboBox comboEnd=new JComboBox(new String[]{"12:00","13:00","14:00","15:00"});
        comboBegin.setSelectedIndex(0);
        comboEnd.setSelectedIndex(0);
        beginColumn.setCellEditor(new DefaultCellEditor(comboBegin));
        endColumn.setCellEditor(new DefaultCellEditor(comboEnd));
        String [] days={"Monday","Tuesday","Wednesday","Thursday","Friday"};
        DefaultTableModel model=(DefaultTableModel)addScheduleTable.getModel();
        for(int i=0;i<5;i++)
        {
            model.addRow(new Object[]{days[i],comboBegin.getSelectedItem(),comboEnd.getSelectedItem()});
        }
    }
        
        public void initTablePyaments()
        {
            TableColumnModel columnModel=paymentsTable.getColumnModel();
            columnModel.getColumn(0).setPreferredWidth(1000);
            columnModel.getColumn(1).setPreferredWidth(1000);
            columnModel.getColumn(2).setMinWidth(60);
            
            DefaultTableModel model=(DefaultTableModel)paymentsTable.getModel();
            ArrayList<Payment> payments=db.getPayements(new Date().getMonth()+1);
            for(int i=0;i<payments.size();i++)
            {
                Payment p=payments.get(i);
                model.addRow(new Object[]{p.getId(),p.getName(),p.getPay()});
            }
        }
        
        public int getMaxNumberOfBuses()
        {
            int allMax=0;
            String [] days={"Monday","Tuesday","Wednesday","Thursday","Friday"};
            for(int i=0;i<days.length;i++)
            {
                int beginInDay=myAlgoBegin(1, max, days[i]).getArray().size();
                int endInDay=myAlgoEnd(1, max, days[i]).getArray().size();
                if(beginInDay>endInDay)
                {
                    if(beginInDay>allMax)
                        allMax=beginInDay;
                }
                else
                {
                    if(endInDay>allMax)
                        allMax=endInDay;
                }
            }
            return allMax;
        }
        
       public void initTableEmployees()
       {
            clearTable(tableEmployees);
            DefaultTableModel df=(DefaultTableModel)tableEmployees.getModel();
            ArrayList<Employee> array=db.getEmployees();
            for(int i=0;i<array.size();i++)
            {
                Employee e=array.get(i);
                df.addRow(new Object[]{e.getId(),e.getName(),e.getAccount().getUsername(),e.getPhoneNbr(),e.getRole()});
            }
       }
       
       public void initJTableRecentPayments()
       {
           payed=0;
           notPayed=0;
           clearTable(jTableRecentPayments);
           String month=(String)jComboBoxMonths.getSelectedItem();
           TableColumnModel columnModel=jTableRecentPayments.getColumnModel();
           columnModel.getColumn(0).setPreferredWidth(1000);
           columnModel.getColumn(1).setPreferredWidth(1000);
           columnModel.getColumn(2).setMinWidth(60);
           
            
            DefaultTableModel model=(DefaultTableModel)jTableRecentPayments.getModel();
            ArrayList<Payment> payments=db.getPayements(Integer.valueOf(month));
            for(int i=0;i<payments.size();i++)
            {
                Payment p=payments.get(i);
                if(p.getPay())
                    payed++;
                else
                    notPayed++;
                model.addRow(new Object[]{p.getId(),p.getName(),p.getPay()});
            }
            jLabelPayed.setText("Payed: "+payed);
            jLabelNotPayed.setText("Not payed: "+notPayed);

            
       }
}
